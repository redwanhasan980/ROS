<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:include filename="$(find mobile_bot)/urdf/inertial_macros.xacro"/>
<!-- COLOUR -->
<material name="white">
 <color rgba="1 1 1 1"/>    
 </material>
<material name="orange">
    <color rgba="1 0.3 0.1 1"/>
</material>
<material name="blue">
    <color rgba="0.2 0.2 1.0 1"/>
</material>
<material name="black">
     <color rgba="0.0 0.0 0.0 1.0"/>    
</material>
<!-- WORLD LINK -->
<link name="world">
    
</link>
<!-- CHASIS WORLD JOINT -->
<joint name="chasis_joint" type="fixed">
    <parent link="world"/>
    <child link="chasis"/>
    <origin xyz="-0.1 0.0 0.0" rpy="0.0 0.0 0.0"/>
    
</joint>
<!-- CHASIS LINK -->
<link name="chasis">
    <xacro:inertial_box mass="0.5" x="0.4" y="0.3" z="0.15">
    <origin xyz="0.15 0.0 0.075" rpy="0 0 0"/>
     </xacro:inertial_box>
    
    <visual>
        <origin xyz="0.15 0.0 0.075" rpy="0.0 0.0 0.0"/>
        <geometry>
            <box size="0.4 0.3 0.15"/>
        </geometry>
        <material name="white"/>
    </visual>
    <collision>
        <origin xyz="0.15 0.0 0.075" rpy="0.0 0.0 0.0"/>
        <geometry>
            <box size="0.4 0.3 0.15"/>
        </geometry>
    </collision>
</link>
 <!-- LEFT WHEEL MACRO -->
<xacro:macro name="left_wheel" params="name x y z">
    <link name="${name}">
    <visual>
        <geometry>
          
          <mesh filename="package://mobile_bot/Mesh/left_tire.stl" scale="0.0025 0.0025 0.0025"/>
        </geometry>
        <material name="LightGrey">
            <color rgba="0.7 0.7 0.7 1.0"/>
        </material>
    </visual>
    <collision>
        <geometry>
            
        <mesh filename="package://mobile_bot/Mesh/left_tire.stl" scale="0.0025 0.0025 0.0025"/>
        </geometry>
    </collision>
    <xacro:inertial_cylinder mass="0.1" length="0.04" radius="0.08">
    <origin xyz="0 0 0" rpy="0 0 0"/>
     </xacro:inertial_cylinder>
    
</link>
<joint name="${name}_base_joint" type="continuous">
    <origin xyz="${x} ${y} 0.0" rpy="0 0 0"/>
    <parent link="world"/>
    <child link="${name}"/>
    
    <axis xyz="0 1 0"/>
</joint>
</xacro:macro>
<!-- RIGHT WHEEL MACRO -->
<xacro:macro name="right_wheel" params="name x y z">
    <link name="${name}">
    <visual>
        <geometry>
          
          <mesh filename="package://mobile_bot/Mesh/right_tire.stl" scale="0.0025 0.0025 0.0025"/>
        </geometry>
        <material name="LightGrey">
            <color rgba="0.7 0.7 0.7 1.0"/>
        </material>
    </visual>
    <collision>
        <geometry>
            
        <mesh filename="package://mobile_bot/Mesh/right_tire.stl" scale="0.0025 0.0025 0.0025"/>
        </geometry>
    </collision>
   <xacro:inertial_cylinder mass="0.1" length="0.04" radius="0.08">
    <origin xyz="0 0 0" rpy="0 0 0"/>
     </xacro:inertial_cylinder>
</link>
<joint name="${name}_base_joint" type="continuous">
    <origin xyz="${x} ${y} 0.0" rpy="0 0 0"/>
    <parent link="world"/>
    <child link="${name}"/>
    
    <axis xyz="0 1 0"/>
</joint>
</xacro:macro>
 <!-- LEFT WHEEL -->
<xacro:left_wheel name="left_wheel" x="0.0" y="0.175" z="0.0"/> 
 <!-- RIGHT WHEEL -->
 <xacro:right_wheel name="right_wheel" x="0.0" y="-0.175" z="0.0"/> 
<!-- CASTER wHEEL LINK -->
<joint name="caster_wheel" type="fixed">
 <parent link="chasis"/>
 <child link="caster"/>
 <origin xyz="0.24 0.0 0.0" rpy="0.0 0.0 0.0"/>
    
</joint>

<link name="caster">
<visual>
    <geometry>
        <sphere radius="0.07"/>
    </geometry>
    <material name="black"/>
    
</visual>
<collision>
     <geometry>
        <sphere radius="0.07"/>
    </geometry>
</collision>  
<xacro:inertial_sphere mass="0.1" radius="0.07">
    <origin xyz="0 0 0" rpy="0 0 0"/>
     </xacro:inertial_sphere>  
</link>



</robot>